# Telegram Web App –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –°–≤—ñ—Ç–ª–æ–ß–µ–∫

## –û–≥–ª—è–¥

–¶–µ–π Web App –Ω–∞–¥–∞—î –∑—Ä—É—á–Ω–∏–π –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞ –°–≤—ñ—Ç–ª–æ–ß–µ–∫. –î–æ–¥–∞—Ç–æ–∫ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —è–∫ Telegram Mini App –∑ —Å—É—á–∞—Å–Ω–∏–º iOS 26 –¥–∏–∑–∞–π–Ω–æ–º.

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫
- **Frontend**: –ß–∏—Å—Ç–∏–π HTML/CSS/JS (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤)
- **Backend**: Express.js —Å–µ—Ä–≤–µ—Ä
- **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è**: Telegram initData –∑ HMAC-SHA256
- **–î–∏–∑–∞–π–Ω**: iOS 26 —Å—Ç–∏–ª—å –∑ glassmorphism –µ—Ñ–µ–∫—Ç–∞–º–∏
- **–¢–µ–º–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è –ø—ñ–¥ —Ç–µ–º—É Telegram –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
1. **–†–µ–≥—ñ–æ–Ω —Ç–∞ —á–µ—Ä–≥–∞** - –≤–∏–±—ñ—Ä —Ä–µ–≥—ñ–æ–Ω—É —Ç–∞ —á–µ—Ä–≥–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
2. **–ö–∞–Ω–∞–ª** - —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –∫–∞–Ω–∞–ª
3. **IP –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è IP –∞–¥—Ä–µ—Å–∏ —Ä–æ—É—Ç–µ—Ä–∞
4. **–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å–≤—ñ—Ç–ª–æ** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É —Ç–∞ –º—ñ—Å—Ü—è —Å–ø–æ–≤—ñ—â–µ–Ω—å
5. **–ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –≥—Ä–∞—Ñ—ñ–∫** - –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω—å –ø—Ä–æ –∑–º—ñ–Ω–∏ –≥—Ä–∞—Ñ—ñ–∫–∞
6. **–í–∏–¥–∞–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö** - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
–î–æ—Å—Ç—É–ø–Ω–∞ —Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ (ADMIN_IDS –∞–±–æ ownerId):
1. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∞–∫—Ç–∏–≤–Ω–∏—Ö, –∑ –∫–∞–Ω–∞–ª–∞–º–∏, –∑ IP
2. **–°–∏—Å—Ç–µ–º–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è** - uptime, –ø–∞–º'—è—Ç—å, –≤–µ—Ä—Å—ñ—è Node.js
3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤** - —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤, IP, debounce
4. **Broadcast** - —Ä–æ–∑—Å–∏–ª–∫–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤—Å—ñ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º

## –§–∞–π–ª–æ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
webapp/
‚îú‚îÄ‚îÄ index.html          # –ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ Web App
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ style.css       # iOS 26 —Å—Ç–∏–ª—ñ –∑ glassmorphism
‚îî‚îÄ‚îÄ js/
    ‚îî‚îÄ‚îÄ app.js          # JavaScript –¥–æ–¥–∞—Ç–∫—É –∑ Telegram Web App API

src/
‚îú‚îÄ‚îÄ server.js           # Express —Å–µ—Ä–≤–µ—Ä
‚îî‚îÄ‚îÄ api/
    ‚îú‚îÄ‚îÄ auth.js         # –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ initData
    ‚îú‚îÄ‚îÄ settings.js     # API –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    ‚îî‚îÄ‚îÄ admin.js        # API –¥–ª—è –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ
```

## API Endpoints

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `GET /api/user` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/user/region` - –æ–Ω–æ–≤–∏—Ç–∏ —Ä–µ–≥—ñ–æ–Ω/—á–µ—Ä–≥—É
- `POST /api/user/ip` - –æ–Ω–æ–≤–∏—Ç–∏ IP —Ä–æ—É—Ç–µ—Ä–∞
- `POST /api/user/alerts` - –æ–Ω–æ–≤–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å
- `POST /api/user/schedule-alerts` - –æ–Ω–æ–≤–∏—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –ø—Ä–æ –≥—Ä–∞—Ñ—ñ–∫
- `POST /api/user/delete` - –≤–∏–¥–∞–ª–∏—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `GET /api/regions` - –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ä–µ–≥—ñ–æ–Ω—ñ–≤
- `GET /api/queues` - –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —á–µ—Ä–≥

### –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å (—Ç—ñ–ª—å–∫–∏ –¥–ª—è –∞–¥–º—ñ–Ω—ñ–≤)
- `GET /api/admin/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `GET /api/admin/system` - —Å–∏—Å—Ç–µ–º–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
- `GET /api/admin/intervals` - –æ—Ç—Ä–∏–º–∞—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤
- `POST /api/admin/intervals` - –æ–Ω–æ–≤–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏
- `POST /api/admin/broadcast` - –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ broadcast

## –ë–µ–∑–ø–µ–∫–∞

### –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
–í—Å—ñ API –∑–∞–ø–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å Telegram `initData`:
- HMAC-SHA256 –ø—ñ–¥–ø–∏—Å –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ
- –¢–µ—Ä–º—ñ–Ω –¥—ñ—ó —Ç–æ–∫–µ–Ω–∞: 1 –≥–æ–¥–∏–Ω–∞
- –ê–¥–º—ñ–Ω-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É

### Rate Limiting
- API endpoints: 20 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ 15 —Ö–≤–∏–ª–∏–Ω
- –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏: 200 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ 15 —Ö–≤–∏–ª–∏–Ω
- General API: 100 –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ 15 —Ö–≤–∏–ª–∏–Ω

### –í–∞–ª—ñ–¥–∞—Ü—ñ—è
- IP –∞–¥—Ä–µ—Å–∏ –≤–∞–ª—ñ–¥—É—é—Ç—å—Å—è (—Ñ–æ—Ä–º–∞—Ç —Ç–∞ –¥—ñ–∞–ø–∞–∑–æ–Ω 0-255)
- –í—Å—ñ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ —Å–∞–Ω—ñ—Ç–∏–∑—É—é—Ç—å—Å—è
- –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–∞—é—Ç—å –æ–±–º–µ–∂–µ–Ω–Ω—è –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
```env
WEBAPP_URL=https://your-app.railway.app  # URL Web App
PORT=3000                                 # –ü–æ—Ä—Ç Express —Å–µ—Ä–≤–µ—Ä–∞
BOT_TOKEN=your_bot_token                 # –¢–æ–∫–µ–Ω –±–æ—Ç–∞
ADMIN_IDS=123456789,987654321            # ID –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤
```

### –ó–∞–ø—É—Å–∫
```bash
npm install
npm start
```

Express —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–∞–∑–æ–º –∑ –±–æ—Ç–æ–º.

## –î–æ—Å—Ç—É–ø –¥–æ Web App

Web App –¥–æ—Å—Ç—É–ø–Ω–∏–π —á–µ—Ä–µ–∑:
1. –ö–Ω–æ–ø–∫—É "üåê Web App" –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ –±–æ—Ç–∞
2. –ü—Ä—è–º–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è: `WEBAPP_URL` (—è–∫—â–æ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)

## –î–∏–∑–∞–π–Ω

### iOS 26 –°—Ç–∏–ª—å
- Glassmorphism –µ—Ñ–µ–∫—Ç–∏ –∑ backdrop-filter
- Rounded corners (16px border-radius)
- Subtle shadows
- Smooth animations (cubic-bezier easing)

### –ê–¥–∞–ø—Ç–∞—Ü—ñ—è —Ç–µ–º–∏
Web App –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∞–¥–∞–ø—Ç—É—î—Ç—å—Å—è –ø—ñ–¥ —Ç–µ–º—É Telegram:
- –°–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞
- –¢–µ–º–Ω–∞ —Ç–µ–º–∞
- –ö–æ–ª—å–æ—Ä–∏ —á–µ—Ä–µ–∑ CSS –∑–º—ñ–Ω–Ω—ñ Telegram

### Responsive Design
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞ –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤ —Ç–∞ –ø–ª–∞–Ω—à–µ—Ç—ñ–≤
- –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–æ –¥–ª—è Telegram Mini App
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ touch gestures

## –†–æ–∑—Ä–æ–±–∫–∞

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞–ª—å–Ω–æ
1. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` —Ñ–∞–π–ª –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä: `npm start`
3. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `http://localhost:3000` –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
4. –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑ Telegram –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ ngrok –∞–±–æ Railway

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π
1. –î–æ–¥–∞–π—Ç–µ API endpoint –≤ `src/api/`
2. –î–æ–¥–∞–π—Ç–µ UI –≤ `webapp/index.html`
3. –î–æ–¥–∞–π—Ç–µ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –≤ `webapp/js/app.js`
4. –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–∏–ª—ñ –≤ `webapp/css/style.css`

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `WEBAPP_URL` –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –±–æ—Ç –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ initData
4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ issue –Ω–∞ GitHub
