# –í—ñ–∑—É–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: –ü—Ä–∏–≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ

## –û–≥–ª—è–¥ –∑–º—ñ–Ω

–ü–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –±–æ—Ç–∞ —Ç–µ–ø–µ—Ä –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, —á–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π IP –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥.

---

## üìä –ü—Ä–∏–∫–ª–∞–¥ 1: –ó –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º IP (`user.router_ip` —ñ—Å–Ω—É—î)

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–∞–ª–∞—à—Ç—É–≤–∞–≤ IP —Ä–æ—É—Ç–µ—Ä–∞ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å–≤—ñ—Ç–ª–∞

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ:**

```
üëã –¶–µ–π –∫–∞–Ω–∞–ª –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ –í–æ–ª—å—Ç–∏–∫–∞ ‚Äî —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å–≤—ñ—Ç–ª–∞.

–¢—É—Ç –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏–º—É—Ç—å—Å—è:
‚Ä¢ üìä –ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
‚Ä¢ ‚ö° –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞–Ω —Å–≤—ñ—Ç–ª–∞

–ß–µ—Ä–≥–∞: 3.1
```

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- ‚úÖ –ù–∞–∑–≤–∞ "–í–æ–ª—å—Ç–∏–∫–∞" —î –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (–≤–µ–¥–µ –Ω–∞ `https://t.me/VoltykBot`)
- ‚úÖ –ñ–∏—Ä–Ω–∏–π —à—Ä–∏—Ñ—Ç –¥–ª—è –Ω–∞–∑–≤–∏ –±–æ—Ç–∞
- ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ –æ–±–∏–¥–≤–∞ —Ç–∏–ø–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ–π: –≥—Ä–∞—Ñ—ñ–∫–∏ **–¢–ê** —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —á–µ—Ä–≥–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

---

## üìä –ü—Ä–∏–∫–ª–∞–¥ 2: –ë–ï–ó –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ–≥–æ IP (`user.router_ip` === null)

**–°—Ü–µ–Ω–∞—Ä—ñ–π:** –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ù–ï –Ω–∞–ª–∞—à—Ç—É–≤–∞–≤ IP —Ä–æ—É—Ç–µ—Ä–∞

**–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ:**

```
üëã –¶–µ–π –∫–∞–Ω–∞–ª –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ –í–æ–ª—å—Ç–∏–∫–∞ ‚Äî —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å–≤—ñ—Ç–ª–∞.

–¢—É—Ç –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏–º—É—Ç—å—Å—è:
‚Ä¢ üìä –ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å

–ß–µ—Ä–≥–∞: 2.2
```

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- ‚úÖ –ù–∞–∑–≤–∞ "–í–æ–ª—å—Ç–∏–∫–∞" —î –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º (–≤–µ–¥–µ –Ω–∞ `https://t.me/VoltykBot`)
- ‚úÖ –ñ–∏—Ä–Ω–∏–π —à—Ä–∏—Ñ—Ç –¥–ª—è –Ω–∞–∑–≤–∏ –±–æ—Ç–∞
- ‚úÖ –ü–æ–∫–∞–∑–∞–Ω–æ —Ç—ñ–ª—å–∫–∏ –≥—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
- ‚ùå –†—è–¥–æ–∫ –ø—Ä–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞ **–í–Ü–î–°–£–¢–ù–Ü–ô** (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –æ–±–º–∞–Ω—É—Ç–∏–π)
- ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è —á–µ—Ä–≥–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

---

## üîç –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### HTML-—Ä–æ–∑–º—ñ—Ç–∫–∞

–ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î HTML –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è:

```html
üëã –¶–µ–π –∫–∞–Ω–∞–ª –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ <b><a href="https://t.me/VoltykBot">–í–æ–ª—å—Ç–∏–∫–∞</a></b> ‚Äî —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å–≤—ñ—Ç–ª–∞.

–¢—É—Ç –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏–º—É—Ç—å—Å—è:
‚Ä¢ üìä –ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
[‚Ä¢ ‚ö° –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞–Ω —Å–≤—ñ—Ç–ª–∞] <- –£–º–æ–≤–Ω–æ

–ß–µ—Ä–≥–∞: {user.queue}
```

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏:**
- `parse_mode: 'HTML'` - –¥–ª—è –æ–±—Ä–æ–±–∫–∏ HTML —Ç–µ–≥—ñ–≤
- `disable_web_page_preview: true` - –≤–∏–º–∫–Ω–µ–Ω–Ω—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É –ø–æ—Å–∏–ª–∞–Ω–Ω—è

### –õ–æ–≥—ñ–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è

```javascript
function getChannelWelcomeMessage(user) {
  const botLink = '<b><a href="https://t.me/VoltykBot">–í–æ–ª—å—Ç–∏–∫–∞</a></b>';
  
  let features = '‚Ä¢ üìä –ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å';
  
  // –£–º–æ–≤–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä—è–¥–∫–∞ –ø—Ä–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è
  if (user.router_ip) {
    features += '\n‚Ä¢ ‚ö° –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞–Ω —Å–≤—ñ—Ç–ª–∞';
  }
  
  const message = 
    `üëã –¶–µ–π –∫–∞–Ω–∞–ª –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ ${botLink} ‚Äî —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É —Å–≤—ñ—Ç–ª–∞.\n\n` +
    `–¢—É—Ç –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏–º—É—Ç—å—Å—è:\n` +
    `${features}\n\n` +
    `–ß–µ—Ä–≥–∞: ${user.queue}`;
  
  return message;
}
```

---

## ‚úÖ Acceptance Criteria (–í–∏–∫–æ–Ω–∞–Ω–æ)

- [x] –ü–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ –º—ñ—Å—Ç–∏—Ç—å –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±–æ—Ç–∞
- [x] –Ø–∫—â–æ IP –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π ‚Äî –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ä—è–¥–æ–∫ –ø—Ä–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞
- [x] –Ø–∫—â–æ IP –ù–ï –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π ‚Äî —Ä—è–¥–æ–∫ –ø—Ä–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞ –ù–ï –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è
- [x] –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è —á–µ—Ä–≥–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- [x] HTML —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üéØ –ü–µ—Ä–µ–≤–∞–≥–∏ —Ä—ñ—à–µ–Ω–Ω—è

1. **–ß–µ—Å–Ω—ñ—Å—Ç—å** ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å —Ç—ñ–ª—å–∫–∏ —Ç–µ, —â–æ –¥—ñ–π—Å–Ω–æ –ø—Ä–∞—Ü—é—î
2. **–ó—Ä–æ–∑—É–º—ñ–ª—ñ—Å—Ç—å** ‚Äî –∑—Ä–æ–∑—É–º—ñ–ª–æ, —è–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –∞–∫—Ç–∏–≤–Ω—ñ
3. **–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ—Å—Ç—å** ‚Äî –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Ç–∞ —è–∫—ñ—Å–Ω–µ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
4. **–ì–Ω—É—á–∫—ñ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —É–º–æ–≤–Ω—ñ –±–ª–æ–∫–∏ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É
5. **–ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ—Å—Ç—å** ‚Äî –ª–æ–≥—ñ–∫–∞ –≤–∏–Ω–µ—Å–µ–Ω–∞ –≤ –æ–∫—Ä–µ–º—É —Ñ—É–Ω–∫—Ü—ñ—é

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–°—Ç–≤–æ—Ä–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª `test-channel-welcome-message.js` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:

```bash
node test-channel-welcome-message.js
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!

üìù Acceptance Criteria:
   ‚úì –ü–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ –∫–∞–Ω–∞–ª—ñ –º—ñ—Å—Ç–∏—Ç—å –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±–æ—Ç–∞
   ‚úì –Ø–∫—â–æ IP –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π ‚Äî –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Ä—è–¥–æ–∫ –ø—Ä–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞
   ‚úì –Ø–∫—â–æ IP –ù–ï –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π ‚Äî —Ä—è–¥–æ–∫ –ø—Ä–æ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞ –ù–ï –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è
   ‚úì –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è —á–µ—Ä–≥–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   ‚úì HTML —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î –ø—Ä–∞–≤–∏–ª—å–Ω–æ
```
