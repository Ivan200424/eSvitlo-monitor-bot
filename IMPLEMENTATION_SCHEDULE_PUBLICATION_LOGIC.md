# –Ü–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–ª–æ–≥—ñ–∫–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å

## –û–≥–ª—è–¥

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –Ω–æ–≤—É –ª–æ–≥—ñ–∫—É –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—é –æ–±—Ä–æ–±–∫–æ—é:
- –ü–µ—Ä—à–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó
- –û–Ω–æ–≤–ª–µ–Ω—å
- –ü–æ—è–≤–∏ –≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
- –ü–µ—Ä–µ—Ö–æ–¥—É –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –¥–Ω—è (00:00)
- –í—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –∑–º—ñ–Ω

## –ö–ª—é—á–æ–≤—ñ –∑–º—ñ–Ω–∏

### 1. –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É (Database Schema)

–î–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü—é `users`:
- `schedule_hash_today` - —Ö–µ—à –≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
- `schedule_hash_tomorrow` - —Ö–µ—à –≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
- `last_published_date_today` - –¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫–∞ "–Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ"
- `last_published_date_tomorrow` - –¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–Ω—å–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≥—Ä–∞—Ñ—ñ–∫–∞ "–Ω–∞ –∑–∞–≤—Ç—Ä–∞"

### 2. –û–±—á–∏—Å–ª–µ–Ω–Ω—è —Ö–µ—à—ñ–≤

**–ù–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è**: `calculateScheduleHash(events)`
- –û–±—á–∏—Å–ª—é—î —Ö–µ—à **–¢–Ü–õ–¨–ö–ò** –∑ –ø–µ—Ä—ñ–æ–¥—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å (—á–∞—Å –ø–æ—á–∞—Ç–∫—É —Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è)
- **–ù–ï** –≤–∫–ª—é—á–∞—î: –¥–∞—Ç—É –ø–∞—Ä—Å–∏–Ω–≥—É, —Å–ª—É–∂–±–æ–≤—ñ –ø–æ–ª—è, –º–µ—Ç–∞–¥–∞–Ω—ñ
- –°—Ç–∞–±—ñ–ª—å–Ω–∞: –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –ø–æ—Ä—è–¥–∫—É –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

```javascript
// –ü—Ä–∏–∫–ª–∞–¥
const events = [
  { start: '2026-02-05T10:00:00Z', end: '2026-02-05T12:00:00Z' },
  { start: '2026-02-05T15:00:00Z', end: '2026-02-05T17:00:00Z' }
];
const hash = calculateScheduleHash(events);
// => "7cd4e68b9ba9cb486771d11782ae9a66e48c6a7d273a7f1249e795e2627e3c25"
```

### 3. –ü–µ—Ä–µ—Ö—ñ–¥ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –¥–Ω—è

–ü—Ä–∏ –∑–º—ñ–Ω—ñ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ—ó –¥–∞—Ç–∏ (–ø–µ—Ä–µ—Ö—ñ–¥ —á–µ—Ä–µ–∑ 00:00):
1. `schedule_hash_tomorrow` ‚Üí `schedule_hash_today`
2. `last_published_date_tomorrow` ‚Üí `last_published_date_today`
3. `schedule_hash_tomorrow` = `null`
4. `last_published_date_tomorrow` = `null`

**–§—É–Ω–∫—Ü—ñ—è –ë–î**: `transitionScheduleDay(userId)`

**–í–ê–ñ–õ–ò–í–û**: –ì—Ä–∞—Ñ—ñ–∫, —è–∫–∏–π –±—É–≤ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–∏–π —è–∫ "–Ω–∞ –∑–∞–≤—Ç—Ä–∞" –≤—á–æ—Ä–∞, –ù–ï –≤–≤–∞–∂–∞—î—Ç—å—Å—è –Ω–æ–≤–∏–º –ø—ñ—Å–ª—è –Ω–∞—Å—Ç–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –¥–Ω—è.

### 4. –õ–æ–≥—ñ–∫–∞ –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Ö–µ—à—ñ–≤

–ü—Ä–∏ –∫–æ–∂–Ω–æ–º—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö:
- –Ø–∫—â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π —Ö–µ—à = `null` ‚Üí —Ü–µ **–ø–µ—Ä—à–∞ –ø–æ—è–≤–∞** –≥—Ä–∞—Ñ—ñ–∫–∞
- –Ø–∫—â–æ –Ω–æ–≤–∏–π —Ö–µ—à ‚â† –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π ‚Üí –≥—Ä–∞—Ñ—ñ–∫ **–∑–º—ñ–Ω–∏–≤—Å—è**
- –Ø–∫—â–æ —Ö–µ—à—ñ –æ–¥–Ω–∞–∫–æ–≤—ñ ‚Üí **–∑–º—ñ–Ω –Ω–µ–º–∞—î**, –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –ó–ê–ë–û–†–û–ù–ï–ù–ê

–•–µ—à—ñ "—Å—å–æ–≥–æ–¥–Ω—ñ" —ñ "–∑–∞–≤—Ç—Ä–∞" –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è **–Ω–µ–∑–∞–ª–µ–∂–Ω–æ**.

### 5. –§–æ—Ä–º—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

#### –°—Ü–µ–Ω–∞—Ä—ñ–π 1: –ü–µ—Ä—à–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –≥—Ä–∞—Ñ—ñ–∫–∞ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
**–£–º–æ–≤–∞**: `schedule_hash_today = null`

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**:
```
üìä –ì—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ, {–¥–∞—Ç–∞} ({–¥–µ–Ω—å —Ç–∏–∂–Ω—è}), –¥–ª—è —á–µ—Ä–≥–∏ {—á–µ—Ä–≥–∞}:
```

#### –°—Ü–µ–Ω–∞—Ä—ñ–π 2: –û–Ω–æ–≤–∏–≤—Å—è –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ
**–£–º–æ–≤–∞**: 
- `schedule_hash_today` –∑–º—ñ–Ω–∏–≤—Å—è
- `last_published_date_today` = –ø–æ—Ç–æ—á–Ω–∞ –¥–∞—Ç–∞

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**:
```
üí° –û–Ω–æ–≤–ª–µ–Ω–æ –≥—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ, {–¥–∞—Ç–∞} ({–¥–µ–Ω—å —Ç–∏–∂–Ω—è}), –¥–ª—è —á–µ—Ä–≥–∏ {—á–µ—Ä–≥–∞}:
```

#### –°—Ü–µ–Ω–∞—Ä—ñ–π 3: –í–ø–µ—Ä—à–µ –∑'—è–≤–∏–≤—Å—è –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
**–£–º–æ–≤–∞**:
- `schedule_hash_tomorrow = null`
- –ø–æ—Ç–æ—á–Ω–∞ –¥–∞—Ç–∞ < –¥–∞—Ç–∞ –≥—Ä–∞—Ñ—ñ–∫–∞

**–ó–∞–≥–æ–ª–æ–≤–æ–∫**:
```
üí° –ó º—è–≤–∏–≤—Å—è –≥—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞, {–¥–∞—Ç–∞} ({–¥–µ–Ω—å —Ç–∏–∂–Ω—è}), –¥–ª—è —á–µ—Ä–≥–∏ {—á–µ—Ä–≥–∞}:
```

#### –°—Ü–µ–Ω–∞—Ä—ñ–π 4: –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∑–∞–≤—Ç—Ä–∞ –æ–Ω–æ–≤–∏–≤—Å—è, –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ –±–µ–∑ –∑–º—ñ–Ω
**–£–º–æ–≤–∞**:
- `schedule_hash_tomorrow` –∑–º—ñ–Ω–∏–≤—Å—è
- `schedule_hash_today` –ù–ï –∑–º—ñ–Ω–∏–≤—Å—è

**–§–æ—Ä–º–∞—Ç**: –û–î–ù–ï –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –¥–≤–æ—Ö –±–ª–æ–∫—ñ–≤:

**–ë–ª–æ–∫ 1 (–∑–∞–≤—Ç—Ä–∞)**:
```
üí° –ó º—è–≤–∏–≤—Å—è –≥—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞, {–¥–∞—Ç–∞} ({–¥–µ–Ω—å —Ç–∏–∂–Ω—è}), –¥–ª—è —á–µ—Ä–≥–∏ {—á–µ—Ä–≥–∞}:

ü™´ HH:MM - HH:MM (~X –≥–æ–¥)
...
–ó–∞–≥–∞–ª–æ–º –±–µ–∑ —Å–≤—ñ—Ç–ª–∞: ~X –≥–æ–¥
```

**–ë–ª–æ–∫ 2 (—Å—å–æ–≥–æ–¥–Ω—ñ)**:
```
üí° –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ ‚Äî –±–µ–∑ –∑–º—ñ–Ω:

ü™´ HH:MM - HH:MM (~X –≥–æ–¥)
...
–ó–∞–≥–∞–ª–æ–º –±–µ–∑ —Å–≤—ñ—Ç–ª–∞: ~X –≥–æ–¥
```

### 6. –§–æ—Ä–º–∞—Ç –≤–º—ñ—Å—Ç—É (—î–¥–∏–Ω–∏–π –¥–ª—è –≤—Å—ñ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤)

–ü—ñ—Å–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞ **–û–ë–û–í'–Ø–ó–ö–û–í–û** –≤–∏–≤–æ–¥–∏—Ç—å—Å—è:
- –°–ø–∏—Å–æ–∫ –ø–µ—Ä—ñ–æ–¥—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
- –ó–∞–≥–∞–ª—å–Ω–∞ —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å

```
ü™´ HH:MM - HH:MM (~X –≥–æ–¥)
...
–ó–∞–≥–∞–ª–æ–º –±–µ–∑ —Å–≤—ñ—Ç–ª–∞: ~X –≥–æ–¥
```

### 7. –ó–∞–±–æ—Ä–æ–Ω–∏

**–ó–ê–ë–û–†–û–ù–ï–ù–û** –ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —è–∫—â–æ:
- –ñ–æ–¥–µ–Ω —Ö–µ—à –Ω–µ –∑–º—ñ–Ω–∏–≤—Å—è
- –í—ñ–¥–±—É–≤—Å—è –ª–∏—à–µ –ø–µ—Ä–µ—Ö—ñ–¥ –¥–Ω—è –±–µ–∑ –Ω–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö
- –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ "—Å—å–æ–≥–æ–¥–Ω—ñ" –≤–∂–µ –±—É–≤ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–∏–π —Ä–∞–Ω—ñ—à–µ —è–∫ "–Ω–∞ –∑–∞–≤—Ç—Ä–∞"

**–ó–ê–ë–û–†–û–ù–ï–ù–û** –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø–∏—Å–∞—Ç–∏ "–ó º—è–≤–∏–≤—Å—è –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∑–∞–≤—Ç—Ä–∞", —è–∫—â–æ —Ü–µ–π —Å–∞–º–∏–π –≥—Ä–∞—Ñ—ñ–∫ —É–∂–µ –±—É–≤ –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–∏–π —Ä–∞–Ω—ñ—à–µ.

## –û—Å–Ω–æ–≤–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø

–ë–æ—Ç –ø–æ–≤—ñ–¥–æ–º–ª—è—î **–¢–Ü–õ–¨–ö–ò** –ø—Ä–æ –Ω–æ–≤—É –∞–±–æ –∑–º—ñ–Ω–µ–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.
–ü–µ—Ä–µ—Ö—ñ–¥ –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –¥–Ω—è —Å–∞–º –ø–æ —Å–æ–±—ñ **–ù–ï —î** –ø—Ä–∏–≤–æ–¥–æ–º –¥–ª—è –Ω–æ–≤–æ—ó –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó.

## –§–∞–π–ª–∏ –∑ –∑–º—ñ–Ω–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ñ —Ñ–∞–π–ª–∏
1. **src/database/db.js** - –¥–æ–¥–∞–Ω–æ –Ω–æ–≤—ñ –ø–æ–ª—è –≤ –º—ñ–≥—Ä–∞—Ü—ñ—é
2. **src/database/users.js** - –¥–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—ó `updateScheduleState()` —Ç–∞ `transitionScheduleDay()`
3. **src/utils.js** - –¥–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é `calculateScheduleHash()`
4. **src/scheduler.js** - –ø–æ–≤–Ω—ñ—Å—Ç—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–æ `checkUserSchedule()` –∑ –Ω–æ–≤–æ—é –ª–æ–≥—ñ–∫–æ—é
5. **src/formatter.js** - –¥–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é `formatScheduleMessageNew()`
6. **src/publisher.js** - –¥–æ–¥–∞–Ω–æ —Ñ—É–Ω–∫—Ü—ñ—é `publishScheduleWithPhotoNew()`

### –¢–µ—Å—Ç–æ–≤—ñ —Ñ–∞–π–ª–∏
1. **test-schedule-publication-logic.js** - —Ç–µ—Å—Ç–∏ –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
2. **test-logic-only.js** - —Ç–µ—Å—Ç–∏ –¥–ª—è –ª–æ–≥—ñ–∫–∏ –±–µ–∑ –ë–î
3. **test-day-transition.js** - —Ç–µ—Å—Ç –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥—É –¥–Ω—è (–ø–æ—Ç—Ä–µ–±—É—î –ë–î)

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤
```bash
# –¢–µ—Å—Ç–∏ —Ö–µ—à—É–≤–∞–Ω–Ω—è —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
node test-schedule-publication-logic.js

# –¢–µ—Å—Ç–∏ –ª–æ–≥—ñ–∫–∏ –±–µ–∑ –ë–î
node test-logic-only.js
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤
–í—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç—å —É—Å–ø—ñ—à–Ω–æ:
- ‚úÖ –û–±—á–∏—Å–ª–µ–Ω–Ω—è —Ö–µ—à—ñ–≤ –∑ –ø–µ—Ä—ñ–æ–¥—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å
- ‚úÖ –ü–æ—Ä–æ–∂–Ω—ñ–π –≥—Ä–∞—Ñ—ñ–∫ –ø–æ–≤–µ—Ä—Ç–∞—î null
- ‚úÖ –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –¥–ª—è –≤—Å—ñ—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤
- ‚úÖ –•–µ—à —Å—Ç–∞–±—ñ–ª—å–Ω–∏–π –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–æ—Ä—è–¥–∫—É
- ‚úÖ –õ–æ–≥—ñ–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥—É –¥–Ω—è
- ‚úÖ –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó
- ‚úÖ –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–µ—Ä–µ—Ö–æ–¥—É –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–≥–æ –¥–Ω—è

## –°—É–º—ñ—Å–Ω—ñ—Å—Ç—å

–ó–º—ñ–Ω–∏ **–ø–æ–≤–Ω—ñ—Å—Ç—é —Å—É–º—ñ—Å–Ω—ñ** –∑ —ñ—Å–Ω—É—é—á–∏–º –∫–æ–¥–æ–º:
- –°—Ç–∞—Ä—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (`publishScheduleWithPhoto`, `formatScheduleMessage`) –∑–∞–ª–∏—à–µ–Ω—ñ –±–µ–∑ –∑–º—ñ–Ω
- –ù–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ–¥–∞–Ω—ñ –ø–æ—Ä—è–¥ –∑—ñ —Å—Ç–∞—Ä–∏–º–∏
- –°—Ç–∞—Ä—ñ –ø–æ–ª—è –ë–î (`last_hash`, `last_published_hash`) –Ω–µ —á—ñ–ø–∞—é—Ç—å—Å—è
- –ù–æ–≤—ñ –ø–æ–ª—è –ë–î –¥–æ–¥–∞—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –º—ñ–≥—Ä–∞—Ü—ñ—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

## –ü–µ—Ä–µ–≤–∞–≥–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

1. **–ù–µ–º–∞—î –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤**: –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–∏—Ö –∑–º—ñ–Ω–∞—Ö
2. **–ù–µ–º–∞—î —Å–ø–∞–º—É**: –∂–æ–¥–µ–Ω –ø–µ—Ä–µ—Ö—ñ–¥ –¥–Ω—è –±–µ–∑ –Ω–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î –ø—É–±–ª—ñ–∫–∞—Ü—ñ—é
3. **–ß—ñ—Ç–∫—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏**: –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞–≤–∂–¥–∏ —Ä–æ–∑—É–º—ñ—î —â–æ —Å—Ç–∞–ª–æ—Å—è
4. **–ù–µ–∑–∞–ª–µ–∂–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏**: "—Å—å–æ–≥–æ–¥–Ω—ñ" —ñ "–∑–∞–≤—Ç—Ä–∞" –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –æ–∫—Ä–µ–º–æ
5. **–°—Ç–∞–±—ñ–ª—å–Ω—ñ —Ö–µ—à—ñ**: –Ω–µ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –ø–æ—Ä—è–¥–∫—É –∞–±–æ –º–µ—Ç–∞–¥–∞–Ω–∏—Ö
6. **–ö–æ—Ä–µ–∫—Ç–Ω–∏–π UX**: –ø–æ–≤–Ω–∞ –¥–æ–≤—ñ—Ä–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–æ —Å–ø–æ–≤—ñ—â–µ–Ω—å

## –ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–æ–±–æ—Ç–∏

### –ü—Ä–∏–∫–ª–∞–¥ 1: –ü–µ—Ä—à–∞ –ø–æ—è–≤–∞ –≥—Ä–∞—Ñ—ñ–∫–∞
```
–°—Ç–∞–Ω –ë–î: schedule_hash_today = null
–ù–æ–≤–∏–π –≥—Ä–∞—Ñ—ñ–∫: 10:00-12:00, 15:00-17:00
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "üìä –ì—Ä–∞—Ñ—ñ–∫ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ..."
```

### –ü—Ä–∏–∫–ª–∞–¥ 2: –ì—Ä–∞—Ñ—ñ–∫ –Ω–µ –∑–º—ñ–Ω–∏–≤—Å—è
```
–°—Ç–∞–Ω –ë–î: schedule_hash_today = "abc123"
–ù–æ–≤–∏–π —Ö–µ—à: "abc123" (—Ç–æ–π —Å–∞–º–∏–π)
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—É–±–ª—ñ–∫–∞—Ü—ñ—ó –Ω–µ–º–∞—î
```

### –ü—Ä–∏–∫–ª–∞–¥ 3: –ó'—è–≤–∏–≤—Å—è –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
```
–°—Ç–∞–Ω –ë–î: 
  schedule_hash_today = "abc123"
  schedule_hash_tomorrow = null
–ù–æ–≤–∏–π –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∑–∞–≤—Ç—Ä–∞: 14:00-16:00
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –∑ –¥–≤–æ–º–∞ –±–ª–æ–∫–∞–º–∏:
  1. "üí° –ó º—è–≤–∏–≤—Å—è –≥—Ä–∞—Ñ—ñ–∫ –Ω–∞ –∑–∞–≤—Ç—Ä–∞..."
  2. "üí° –ì—Ä–∞—Ñ—ñ–∫ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ ‚Äî –±–µ–∑ –∑–º—ñ–Ω:"
```

### –ü—Ä–∏–∫–ª–∞–¥ 4: –ü–µ—Ä–µ—Ö—ñ–¥ –¥–Ω—è
```
23:59: schedule_hash_today = "abc123", schedule_hash_tomorrow = "def456"
00:01: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
  schedule_hash_today = "def456" (–∫–æ–ª–∏—à–Ω—ñ–π –∑–∞–≤—Ç—Ä–∞—à–Ω—ñ–π)
  schedule_hash_tomorrow = null
–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—É–±–ª—ñ–∫–∞—Ü—ñ—ó –Ω–µ–º–∞—î (–≥—Ä–∞—Ñ—ñ–∫ –≤–∂–µ –±—É–≤ –≤—ñ–¥–æ–º–∏–π —è–∫ "–∑–∞–≤—Ç—Ä–∞—à–Ω—ñ–π")
```

## –ú—ñ–≥—Ä–∞—Ü—ñ—è

–ü—Ä–∏ –∑–∞–ø—É—Å–∫—É –±–æ—Ç–∞:
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–æ–¥–∞—é—Ç—å—Å—è –Ω–æ–≤—ñ –ø–æ–ª—è –≤ –ë–î
2. –î–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø–æ–ª—è = `null`
3. –ü—Ä–∏ –ø–µ—Ä—à—ñ–π –ø–µ—Ä–µ–≤—ñ—Ä—Ü—ñ –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É:
   - –û–±—á–∏—Å–ª—é—é—Ç—å—Å—è —Ö–µ—à—ñ –¥–ª—è –ø–æ—Ç–æ—á–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
   - –ó–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –Ω–æ–≤—ñ –ø–æ–ª—è
   - –ü—É–±–ª—ñ–∫–∞—Ü—ñ—è –ù–ï –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è (—É–Ω–∏–∫–Ω–µ–Ω–Ω—è —Å–ø–∞–º—É)

## –ú–∞–π–±—É—Ç–Ω—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –ø—ñ—Å–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö
2. –î–æ–¥–∞–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—É–±–ª—ñ–∫–∞—Ü—ñ–π
3. A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç—É –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤

---

**–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ**: 2026-02-05  
**–í–µ—Ä—Å—ñ—è**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
