# –ü–æ—Å—ñ–±–Ω–∏–∫ –∑ –Ω–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## üìã –ó–º—ñ—Å—Ç

1. [–í—Å—Ç—É–ø](#–≤—Å—Ç—É–ø)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
3. [–†—ñ–≤–Ω—ñ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è](#—Ä—ñ–≤–Ω—ñ-–Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è)
4. [–°—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è](#—Å—Ü–µ–Ω–∞—Ä—ñ—ó-—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
5. [–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤](#–∑–∞–ø—É—Å–∫-—Ç–µ—Å—Ç—ñ–≤)
6. [–ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –∫—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É](#–º–µ—Ç—Ä–∏–∫–∏-—Ç–∞-–∫—Ä–∏—Ç–µ—Ä—ñ—ó-—É—Å–ø—ñ—Ö—É)
7. [–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤](#—ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤)
8. [Troubleshooting](#troubleshooting)

---

## –í—Å—Ç—É–ø

–ù–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä—è—î —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –±–æ—Ç–∞ –ø—ñ–¥ —Ä—ñ–∑–Ω–∏–º –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º —Ç–∞ –≤–∏—è–≤–ª—è—î –ø—Ä–æ–±–ª–µ–º–∏, —è–∫—ñ –º–æ–∂—É—Ç—å –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—ñ.

### –¶—ñ–ª—ñ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –ø—ñ–¥ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º
- ‚úÖ –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –¥—É–±–ª—å–æ–≤–∞–Ω–∏—Ö –ø–æ–¥—ñ–π
- ‚úÖ –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å race conditions
- ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω–∞ —Ä–æ–±–æ—Ç–∞ scheduler'—ñ–≤
- ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω–∏–π debounce
- ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω–∞ —Ä–æ–±–æ—Ç–∞ pause mode
- ‚úÖ –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∑–±–æ—ó–≤

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tests/load-testing/
‚îú‚îÄ‚îÄ README.md              # –ö–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å
‚îú‚îÄ‚îÄ LOAD_TESTING_GUIDE.md  # –î–µ—Ç–∞–ª—å–Ω–∏–π –ø–æ—Å—ñ–±–Ω–∏–∫
‚îú‚îÄ‚îÄ run-load-tests.js      # –ì–æ–ª–æ–≤–Ω–∏–π runner
‚îú‚îÄ‚îÄ scenarios/             # –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ mass-start.js          # –ú–∞—Å–æ–≤–∏–π /start
‚îÇ   ‚îú‚îÄ‚îÄ mass-graph-updates.js  # –ú–∞—Å–æ–≤—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ip-monitoring.js       # IP –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
‚îÇ   ‚îî‚îÄ‚îÄ soak-test.js          # –î–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–∏–π —Ç–µ—Å—Ç
‚îú‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª—ñ—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ metrics.js            # –ó–±—ñ—Ä –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ generators.js         # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∏ –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ mocks/                 # –ú–æ–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ telegram-bot.js       # Mock Telegram Bot API
‚îî‚îÄ‚îÄ reports/               # –ó–≤—ñ—Ç–∏ –ø—Ä–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```

---

## –†—ñ–≤–Ω—ñ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

### –†—ñ–≤–µ–Ω—å 1 ‚Äî –ú–∞–ª–∏–π (SMALL)
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**: 50
- **–ö–∞–Ω–∞–ª—ñ–≤**: 10
- **IP –∞–¥—Ä–µ—Å**: 10
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –®–≤–∏–¥–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –±–∞–∑–æ–≤–æ—ó —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ
- **–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: ~5 —Ö–≤–∏–ª–∏–Ω

### –†—ñ–≤–µ–Ω—å 2 ‚Äî –°–µ—Ä–µ–¥–Ω—ñ–π (MEDIUM)
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**: 300
- **–ö–∞–Ω–∞–ª—ñ–≤**: 50
- **IP –∞–¥—Ä–µ—Å**: 50
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –†–µ–∞–ª—ñ—Å—Ç–∏—á–Ω–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: ~15 —Ö–≤–∏–ª–∏–Ω

### –†—ñ–≤–µ–Ω—å 3 ‚Äî –í–∏—Å–æ–∫–∏–π (HIGH)
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**: 1,000
- **–ö–∞–Ω–∞–ª—ñ–≤**: 200
- **IP –∞–¥—Ä–µ—Å**: 200
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ
- **–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: ~30 —Ö–≤–∏–ª–∏–Ω

### –†—ñ–≤–µ–Ω—å 4 ‚Äî –°—Ç—Ä–µ—Å (STRESS)
- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**: 5,000+
- **–ö–∞–Ω–∞–ª—ñ–≤**: 1,000
- **IP –∞–¥—Ä–µ—Å**: 1,000
- **–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ü–æ—à—É–∫ –≥—Ä–∞–Ω–∏—á–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π
- **–ß–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: ~2 –≥–æ–¥–∏–Ω–∏

---

## –°—Ü–µ–Ω–∞—Ä—ñ—ó —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. Mass /start
**–§–∞–π–ª**: `scenarios/mass-start.js`

**–©–æ —Ç–µ—Å—Ç—É—î**:
- –ú–∞—Å–æ–≤–∏–π –∑–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥–∏ /start
- –ö–æ—Ä–µ–∫—Ç–Ω—ñ—Å—Ç—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó wizard
- –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–ª—É—Ç–∞–Ω–∏–Ω–∏ state –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏

**–í–∏–∫–æ–Ω–∞–Ω–Ω—è**:
```bash
node tests/load-testing/scenarios/mass-start.js 100 10
# 100 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, concurrency=10
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- ‚úÖ –í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ—Ç—Ä–∏–º–∞–ª–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å
- ‚úÖ –í—Å—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤ –ë–î
- ‚úÖ –ù–µ–º–∞—î –¥—É–±–ª—å–æ–≤–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- ‚úÖ P95 response time < 2 —Å–µ–∫—É–Ω–¥–∏

---

### 2. Mass Graph Updates
**–§–∞–π–ª**: `scenarios/mass-graph-updates.js`

**–©–æ —Ç–µ—Å—Ç—É—î**:
- –ú–∞—Å–æ–≤—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
- Hash-–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è —Å—Ç–∞–±—ñ–ª—å–Ω–µ
- –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å–ø–∞–º—É

**–í–∏–∫–æ–Ω–∞–Ω–Ω—è**:
```bash
node tests/load-testing/scenarios/mass-graph-updates.js 100 5
# 100 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, 5 —Ä–∞—É–Ω–¥—ñ–≤ –æ–Ω–æ–≤–ª–µ–Ω—å
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞–¥—Å–∏–ª–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –∑–º—ñ–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫—É
- ‚úÖ –ù–µ–º–∞—î –¥—É–±–ª—å–æ–≤–∞–Ω–∏—Ö –ø—É–±–ª—ñ–∫–∞—Ü—ñ–π
- ‚úÖ Hash —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –∫–æ—Ä–µ–∫—Ç–Ω–∏–π
- ‚úÖ –ù–µ–º–∞—î –∑–∞–π–≤–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

---

### 3. IP Monitoring
**–§–∞–π–ª**: `scenarios/ip-monitoring.js`

**–©–æ —Ç–µ—Å—Ç—É—î**:
- –ú–∞—Å–æ–≤—ñ –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É (ON/OFF)
- Debounce –ø—Ä–∞—Ü—é—î –∫–æ—Ä–µ–∫—Ç–Ω–æ
- –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ª–∞–≤–∏–Ω–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å

**–í–∏–∫–æ–Ω–∞–Ω–Ω—è**:
```bash
node tests/load-testing/scenarios/ip-monitoring.js 50 10 40
# 50 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, 10 flapping, 40 stable
```

**–°—Ü–µ–Ω–∞—Ä—ñ—ó**:
1. **–ú–∞—Å–æ–≤–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è** - –æ–¥–Ω–æ—á–∞—Å–Ω–∞ –≤—Ç—Ä–∞—Ç–∞ —Å–≤—ñ—Ç–ª–∞ —É 50% –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
2. **–ú–∞—Å–æ–≤–µ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è** - –æ–¥–Ω–æ—á–∞—Å–Ω–µ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞
3. **Flapping** - —à–≤–∏–¥–∫—ñ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è (—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è debounce)

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- ‚úÖ Debounce —Ñ—ñ–ª—å—Ç—Ä—É—î —à–≤–∏–¥–∫—ñ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è
- ‚úÖ –ù–µ–º–∞—î —Ñ–µ–π–∫–æ–≤–∏—Ö ON/OFF —Å–ø–æ–≤—ñ—â–µ–Ω—å
- ‚úÖ –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Ä–µ–∞–ª—å–Ω–∏–º –∑–º—ñ–Ω–∞–º

---

### 4. Soak Test
**–§–∞–π–ª**: `scenarios/soak-test.js`

**–©–æ —Ç–µ—Å—Ç—É—î**:
- –î–æ–≤–≥–æ—Ç—Ä–∏–≤–∞–ª–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å (24-72 –≥–æ–¥–∏–Ω–∏)
- –í–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ
- –†—ñ—Å—Ç CPU
- –°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω—É

**–í–∏–∫–æ–Ω–∞–Ω–Ω—è**:
```bash
# 1 –≥–æ–¥–∏–Ω–∞ (–¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
npm run load-test:soak

# 24 –≥–æ–¥–∏–Ω–∏
npm run load-test:soak-24h

# 72 –≥–æ–¥–∏–Ω–∏
npm run load-test:soak-72h
```

**–ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É**:
- ‚úÖ –†—ñ—Å—Ç –ø–∞–º'—è—Ç—ñ < 100%
- ‚úÖ –†—ñ—Å—Ç –ë–î < 200%
- ‚úÖ –ù–µ–º–∞—î –ø–∞–¥—ñ–Ω—å
- ‚úÖ –°—Ç–∞–±—ñ–ª—å–Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å

---

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

### –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```bash
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (—è–∫—â–æ —â–µ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ)
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏ –º–∞–ª–æ–≥–æ —Ä—ñ–≤–Ω—è
npm run load-test:small
```

### –ó–∞–ø—É—Å–∫ –æ–∫—Ä–µ–º–æ–≥–æ —Ä—ñ–≤–Ω—è

```bash
# –ú–∞–ª–∏–π —Ä—ñ–≤–µ–Ω—å (—à–≤–∏–¥–∫–æ, ~5 —Ö–≤)
npm run load-test:small

# –°–µ—Ä–µ–¥–Ω—ñ–π —Ä—ñ–≤–µ–Ω—å (~15 —Ö–≤)
npm run load-test:medium

# –í–∏—Å–æ–∫–∏–π —Ä—ñ–≤–µ–Ω—å (~30 —Ö–≤)
npm run load-test:high

# –°—Ç—Ä–µ—Å —Ä—ñ–≤–µ–Ω—å (~2 –≥–æ–¥)
npm run load-test:stress
```

### –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ä—ñ–≤–Ω—ñ–≤

```bash
npm run load-test:all
```

### –ó–∞–ø—É—Å–∫ –æ–∫—Ä–µ–º–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä—ñ—é

```bash
# Mass /start –∑ 200 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
node tests/load-testing/scenarios/mass-start.js 200 20

# Mass Graph Updates –∑ 500 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏, 10 —Ä–∞—É–Ω–¥—ñ–≤
node tests/load-testing/scenarios/mass-graph-updates.js 500 10

# IP Monitoring –∑ 100 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
node tests/load-testing/scenarios/ip-monitoring.js 100 20 80
```

---

## –ú–µ—Ç—Ä–∏–∫–∏ —Ç–∞ –∫—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É

### –ó–±–∏—Ä–∞—é—Ç—å—Å—è –º–µ—Ç—Ä–∏–∫–∏

1. **Response Time**
   - Average (—Å–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ)
   - Min/Max (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∏–π)
   - P95/P99 (95-–π —Ç–∞ 99-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—ñ)

2. **Messages**
   - Sent (–Ω–∞–¥—ñ—Å–ª–∞–Ω–æ)
   - Received (–æ—Ç—Ä–∏–º–∞–Ω–æ)
   - Duplicates (–¥—É–±–ª—å–æ–≤–∞–Ω—ñ)

3. **Errors**
   - Total count (–∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å)
   - Error types (—Ç–∏–ø–∏ –ø–æ–º–∏–ª–æ–∫)
   - Context (–∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–º–∏–ª–æ–∫)

4. **Memory**
   - Initial/Final (–ø–æ—á–∞—Ç–∫–æ–≤–∞/–∫—ñ–Ω—Ü–µ–≤–∞)
   - Growth (—Ä—ñ—Å—Ç)
   - Percentage (–≤—ñ–¥—Å–æ—Ç–æ–∫ —Ä–æ—Å—Ç—É)

5. **System**
   - Active schedulers (–∞–∫—Ç–∏–≤–Ω—ñ scheduler'–∏)
   - Database size (—Ä–æ–∑–º—ñ—Ä –ë–î)
   - CPU usage (–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è CPU)

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó —É—Å–ø—ñ—Ö—É

–¢–µ—Å—Ç –≤–≤–∞–∂–∞—î—Ç—å—Å—è **–£–°–ü–Ü–®–ù–ò–ú** —è–∫—â–æ:

‚úÖ **Response Time**: P95 < 2000ms  
‚úÖ **Duplicates**: 0 –¥—É–±–ª—å–æ–≤–∞–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å  
‚úÖ **Error Rate**: < 1% –ø–æ–º–∏–ª–æ–∫  
‚úÖ **Memory Growth**: < 50% —Ä–æ—Å—Ç—É –ø–∞–º'—è—Ç—ñ  
‚úÖ **No Crashes**: –ë–æ—Ç –Ω–µ –ø–∞–¥–∞—î

### –ö—Ä–∏—Ç–µ—Ä—ñ—ó –ø—Ä–æ–≤–∞–ª—É

–¢–µ—Å—Ç –≤–≤–∞–∂–∞—î—Ç—å—Å—è **–ü–†–û–í–ê–õ–ï–ù–ò–ú** —è–∫—â–æ:

‚ùå –ë–æ—Ç –ø–∞–¥–∞—î –∞–±–æ –∑–∞–≤–∏—Å–∞—î  
‚ùå –ó'—è–≤–ª—è—é—Ç—å—Å—è –¥—É–±–ª—å–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è  
‚ùå Debounce –Ω–µ –ø—Ä–∞—Ü—é—î  
‚ùå Scheduler'–∏ –¥—É–±–ª—é—é—Ç—å—Å—è  
‚ùå State –ø–ª—É—Ç–∞—î—Ç—å—Å—è –º—ñ–∂ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏  
‚ùå –ë–æ—Ç –Ω–µ –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É

---

## –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤

### –ü—Ä–∏–∫–ª–∞–¥ —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–≤—ñ—Ç—É

```
==========================================================
LOAD TEST REPORT: Mass /start - 100 users
==========================================================

Duration: 12.34s

Response Time:
  Average: 145.67ms
  Min: 89ms
  Max: 456ms
  P95: 234ms
  P99: 345ms
  Total requests: 100

Messages:
  Sent: 100
  Received: 100

Errors:
  Total: 0

Duplicates: 0

Active Schedulers: 1

Memory:
  Growth: 12.34 MB (8.5%)

==========================================================
TEST RESULT: ‚úÖ PASSED
==========================================================
```

### –Ø–∫ —á–∏—Ç–∞—Ç–∏ –∑–≤—ñ—Ç

1. **Duration** - –∑–∞–≥–∞–ª—å–Ω–∏–π —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ç–µ—Å—Ç—É
2. **Response Time** - —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –±–æ—Ç–∞
   - P95 < 2000ms - —Ü–µ –¥–æ–±—Ä–µ
   - P95 > 5000ms - —Ç—Ä–µ–±–∞ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏
3. **Messages** - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
   - Sent –ø–æ–≤–∏–Ω–Ω–æ = Received –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ —Ç–µ—Å—Ç—ñ–≤
4. **Errors** - –ø–æ–º–∏–ª–∫–∏ –ø—ñ–¥ —á–∞—Å —Ç–µ—Å—Ç—É
   - 0 errors - —ñ–¥–µ–∞–ª—å–Ω–æ
   - < 1% - –ø—Ä–∏–π–Ω—è—Ç–Ω–æ
   - > 5% - —î –ø—Ä–æ–±–ª–µ–º–∏
5. **Duplicates** - –¥—É–±–ª—å–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
   - –ú–∞—î –±—É—Ç–∏ 0!
6. **Memory Growth** - —Ä—ñ—Å—Ç –ø–∞–º'—è—Ç—ñ
   - < 20% - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
   - 20-50% - —Ç—Ä–µ–±–∞ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—Ç–∏
   - > 50% - –º–æ–∂–ª–∏–≤–∏–π –≤–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ

### –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

#### –ü—Ä–æ–±–ª–µ–º–∞: –í–∏—Å–æ–∫–∏–π P95 response time (> 5000ms)

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏**:
- –ó–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ë–î
- –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∏
- –ë–ª–æ–∫—É—é—á—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó

**–†—ñ—à–µ–Ω–Ω—è**:
- –î–æ–¥–∞—Ç–∏ —ñ–Ω–¥–µ–∫—Å–∏ –≤ –ë–î
- –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ async –æ–ø–µ—Ä–∞—Ü—ñ—ó

---

#### –ü—Ä–æ–±–ª–µ–º–∞: –î—É–±–ª—å–æ–≤–∞–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏**:
- Race condition –≤ scheduler
- –ü–æ–º–∏–ª–∫–∏ –≤ hash —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É
- –ü—Ä–æ–±–ª–µ–º–∏ –∑—ñ state management

**–†—ñ—à–µ–Ω–Ω—è**:
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥—ñ–∫—É scheduler
- –î–æ–¥–∞—Ç–∏ locks/mutexes
- –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ state persistence

---

#### –ü—Ä–æ–±–ª–µ–º–∞: –†—ñ—Å—Ç –ø–∞–º'—è—Ç—ñ > 50%

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏**:
- –í–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ
- –ù–µ–∑–∞–∫—Ä–∏—Ç—ñ timers/intervals
- –ó—Ä–æ—Å—Ç–∞–Ω–Ω—è –∫–µ—à—É

**–†—ñ—à–µ–Ω–Ω—è**:
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ clearTimeout/clearInterval
- –û–±–º–µ–∂–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –∫–µ—à—É
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ memory profiler

---

## Troubleshooting

### –¢–µ—Å—Ç–∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—å—Å—è

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤–µ—Ä—Å—ñ—é Node.js
node --version  # –ú–∞—î –±—É—Ç–∏ >= 20.0.0

# –ü–µ—Ä–µ–≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
rm -rf node_modules package-lock.json
npm install
```

### –ü–æ–º–∏–ª–∫–∏ –ë–î

```bash
# –û—á–∏—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤—ñ –ë–î
rm -f /tmp/load-test-*.db
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø–∞–º'—è—Ç—ñ

```bash
# –ó–±—ñ–ª—å—à–∏—Ç–∏ heap size
NODE_OPTIONS="--max-old-space-size=4096" npm run load-test:high
```

### –ó–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

–ó–º–µ–Ω—à–∏—Ç–∏ —Ä—ñ–≤–µ–Ω—å –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:
```bash
# –ó–∞–º—ñ—Å—Ç—å MEDIUM (300 users)
npm run load-test:small  # 50 users

# –ê–±–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –æ–∫—Ä–µ–º–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π
node tests/load-testing/scenarios/mass-start.js 50
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –ü–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ `npm run load-test:all`
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ soak test –º—ñ–Ω—ñ–º—É–º –Ω–∞ 24 –≥–æ–¥–∏–Ω–∏
3. ‚úÖ –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è —â–æ –≤—Å—ñ —Ç–µ—Å—Ç–∏ –ø—Ä–æ–π—à–ª–∏
4. ‚úÖ –ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–≤—ñ—Ç–∏
5. ‚úÖ –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### –†–µ–≥—É–ª—è—Ä–Ω–æ

- –ó–∞–ø—É—Å–∫–∞—Ç–∏ load-test:medium –∫–æ–∂–µ–Ω —Ç–∏–∂–¥–µ–Ω—å
- –ó–∞–ø—É—Å–∫–∞—Ç–∏ soak test –∫–æ–∂–µ–Ω –º—ñ—Å—è—Ü—å
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ

### –ü—Ä–∏ –∑–º—ñ–Ω–∞—Ö

–ü—ñ—Å–ª—è –±—É–¥—å-—è–∫–∏—Ö –∑–º—ñ–Ω –≤ –∫–æ–¥—ñ —â–æ —Å—Ç–æ—Å—É—é—Ç—å—Å—è:
- Scheduler'—ñ–≤
- State management
- Database queries
- Message sending

**–û–±–æ–≤'—è–∑–∫–æ–≤–æ** –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ load —Ç–µ—Å—Ç–∏!

---

## –î–æ–¥–∞—Ç–∫–æ–≤–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

### CI/CD Integration

```yaml
# .github/workflows/load-test.yml
name: Load Tests
on:
  pull_request:
    branches: [main]

jobs:
  load-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v2
        with:
          node-version: '20'
      - run: npm install
      - run: npm run load-test:small
```

### –í–ª–∞—Å–Ω—ñ —Ç–µ—Å—Ç–∏

–©–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π —Ç–µ—Å—Ç:

1. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π —Å—Ü–µ–Ω–∞—Ä—ñ–π
2. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
3. –î–æ–¥–∞—Ç–∏ –≤–ª–∞—Å–Ω—É –ª–æ–≥—ñ–∫—É
4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏: `node tests/load-testing/scenarios/my-test.js`

---

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü–∏—Ç–∞–Ω–Ω—è? –ü—Ä–æ–±–ª–µ–º–∏? –°—Ç–≤–æ—Ä—ñ—Ç—å issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó!

---

‚ö° –í–æ–ª—å—Ç–∏–∫ Load Testing Framework - Made with ‚ù§Ô∏è for Ukraine üá∫üá¶
